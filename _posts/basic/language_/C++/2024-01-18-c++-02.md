---
title: ios_base::sync_with_stdio(false) 은 왜 사용할까?
author: nollae
date: 2024-01-18 12:02:00 +0900
categories: [Basic, C++]
tags: [C++]
---

C++ 알고리즘을 풀 때 종종 보이는 아래의 코드. 왜 사용할까?

```c++
ios_base::sync_with_stdio(false);
cin.tie(NULL); 
cout.tie(NULL);
```

## ios_base::sync_with_stdio(false);

이 코드는 C++의 입출력 버퍼를 C의 입출력 버퍼와 동기화하지 않도록 설정한다. 

기본적으로 C++의 `iostream` 라이브러리는 C의 표준 입출력 버퍼와 동기화되어 있어서, C++의 `cin` 및 `cout`을 사용할 때마다 C의 버퍼와 동기화 작업이 발생한다. 

그러나 이 코드를 통해 이 동기화를 해제하면, **입출력 속도를 높일 수 있다.**

### 장점

입출력 성능 향상
: C++의 입출력 버퍼와 C의 입출력 버퍼를 동기화하지 않으므로 입출력 속도가 향상된다. 특히 대량의 입출력 작업이 필요한 경우, 성능 향상이 뚜렷하게 나타난다.

### 단점

버퍼 사용에 대한 안정성 저하
: `sync_with_stdio(false)`를 사용하면 입출력 버퍼 사용에 관한 C++의 보장이 무효화되므로, 입출력 버퍼를 혼합하여 사용할 때 문제가 발생할 수 있다. 특히 `cout`으로 출력한 후 `printf`로 출력하는 등의 상황에서 문제가 발생할 수 있다.

## cin.tie(NULL); cout.tie(NULL);

`cin.tie(NULL);`은 cin과 cout이 서로 묶여있는 것을 해제한다. 

`cout.tie(NULL);`은 cout이 다른 출력 스트림과 묶여있는 것을 해제한다.

이렇게 함으로써 C++의 **표준 입력 스트림과 출력 스트림이 묶여있는 것을 방지하고, 성능 향상을 도모**한다.

### 장점

입출력 성능 향상
: `cin`과 `cout`의 묶음을 해제하여 성능을 향상시킨다. 이를 통해 입출력 작업의 성능이 개선된다.

### 단점

입출력 동기화 문제
: 만약 다른 출력 스트림과 묶인 상태에서 `cout`으로 출력한 후에 `cin`으로 입력을 받는 경우, 출력이 완료되기 전까지 입력이 버퍼에 남아있게 될 수 있다. 이로 인해 원하는 순서대로 출력이 되지 않는 문제가 발생할 수 있다.

## 결론
`ios_base::sync_with_stdio(false);`, `cin.tie(NULL);`, `cout.tie(NULL);`을 사용하는 것은 입출력 성능 향상을 위한 방법이지만, 세밀한 제어가 필요한 경우에는 주의해야 한다.





